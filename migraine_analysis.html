<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Haneen Abbas">

<title>Migraine Symptom Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="migraine_analysis_files/libs/clipboard/clipboard.min.js"></script>
<script src="migraine_analysis_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="migraine_analysis_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="migraine_analysis_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="migraine_analysis_files/libs/quarto-html/popper.min.js"></script>
<script src="migraine_analysis_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="migraine_analysis_files/libs/quarto-html/anchor.min.js"></script>
<link href="migraine_analysis_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="migraine_analysis_files/libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="migraine_analysis_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="migraine_analysis_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="migraine_analysis_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
</script>
<script type="module">import "https://cdn.plot.ly/plotly-3.3.0.min"</script>



</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Migraine Symptom Analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Haneen Abbas </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="migraine-dataset" class="level1">
<h1>Migraine Dataset</h1>
<section id="research-question" class="level2">
<h2 class="anchored" data-anchor-id="research-question">Research question</h2>
<p><strong>How do symptom severity patterns differ across migraine types?</strong></p>
<p><strong>Audience:</strong> Individuals interested in understanding how migraine subtypes differ clinically (i.e.&nbsp;patients, clinicians, public health analysts)</p>
<p><strong>Motivation:</strong> Understanding symptom severity patterns across migraine types can inform diagnosis, patient education, and targeted treatment strategies</p>
</section>
<section id="data-source-and-ethics" class="level2">
<h2 class="anchored" data-anchor-id="data-source-and-ethics">Data Source and Ethics</h2>
<p>The dataset was obtained from Kaggle and contains anonymous clinical symptom data<br>
No sensitive information is included</p>
<p><strong>Ethical Considerations and Limitations</strong><br>
- Symptoms may be self reported and subject to reporting bias<br>
- Diagnostic criteria for migraine types are not fully documented in the source<br>
- The dataset may not be representative of all migraine populations</p>
</section>
<section id="data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling">Data Wrangling</h2>
<p>Key steps included<br>
- Selecting relevant symptom severity and target variables<br>
- Filtering and organizing columns for analysis<br>
- Groupby aggregation to compute symptom prevalence by migraine type<br>
- Label encoding of migraine types for machine learning<br>
- Consolidation of symptom and severity features for modeling</p>
<p>All analyses are reproducible</p>
</section>
<section id="visualizations" class="level2">
<h2 class="anchored" data-anchor-id="visualizations">Visualizations</h2>
<p>Visual encodings were selected to align with analytical goals<br>
Distributions were examined using histograms<br>
Comparisons across migraine types were shown using violin plots<br>
Relationships between severity measures were explored with scatterplots<br>
Multivariate symptom patterns were visualized using heatmaps</p>
<section id="age-of-patients" class="level3">
<h3 class="anchored" data-anchor-id="age-of-patients">Age of Patients</h3>
<div id="2f9d5f4a" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="migraine_analysis_files/figure-html/cell-4-output-1.png" width="662" height="470" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This shows the age distribution of individuals in the dataset, providing context for the migraine cases analyzed. The highest amount of individuals experiencing migraines range from 18-30 with sporadic spikes of individuals experiencing migraines at ages as old as 70 and above</p>
</section>
<section id="duration-by-migraine-type" class="level3">
<h3 class="anchored" data-anchor-id="duration-by-migraine-type">Duration by Migraine Type</h3>
<div id="db93e4ea" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.3.0.min.js" integrity="sha256-bO3dS6yCpk9aK4gUpNELtCiDeSYvGYnK7jFI58NQnHI=" crossorigin="anonymous"></script>                <div id="bfeb315d-5d50-4587-8770-4ad39bd1043e" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("bfeb315d-5d50-4587-8770-4ad39bd1043e")) {                    Plotly.newPlot(                        "bfeb315d-5d50-4587-8770-4ad39bd1043e",                        [{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"Type=%{x}\u003cbr\u003eDuration=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Typical aura with migraine","marker":{"color":"#440154"},"name":"Typical aura with migraine","offsetgroup":"Typical aura with migraine","orientation":"v","points":"all","scalegroup":"True","showlegend":true,"x":["Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine","Typical aura with migraine"],"x0":" ","xaxis":"x","y":{"dtype":"i1","bdata":"AQMCAwEBAQEBAwIBAwMDAQEBAgEBAgMDAQEBAQECAwEBAgEBAQEBAgEBAgEBAQEBAQICAQMBAQIBAQIBAQICAQEDAwEBAQEBAQEBAQECAQMBAQEBAQEBAQEBAgIBAQEBAwEBAQEBAQEBAgIBAQMBAQEBAQEBAQEBAQMBAQIBAQEDAwECAgIBAQEBAQEBAQEBAQEBAgEBAgIBAQEBAgEDAwEBAQECAgEBAgMBAgIBAgECAQIBAQICAQECAgECAQICAgMBAQECAgECAgEBAQEDAwICAgEDAQEBAQIBAQICAgEBAQEBAQEBAQECAgECAgICAwIDAwMDAg=="},"y0":" ","yaxis":"y","type":"violin"},{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"Type=%{x}\u003cbr\u003eDuration=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Migraine without aura","marker":{"color":"#440154"},"name":"Migraine without aura","offsetgroup":"Migraine without aura","orientation":"v","points":"all","scalegroup":"True","showlegend":true,"x":["Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura","Migraine without aura"],"x0":" ","xaxis":"x","y":{"dtype":"i1","bdata":"AQMDAQMBAgECAQMBAQMDAwICAgMCAgMBAgECAgMBAgEBAwMDAQICAgMBAQMBAwEDAwECAgECAwEBAQIC"},"y0":" ","yaxis":"y","type":"violin"},{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"Type=%{x}\u003cbr\u003eDuration=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Basilar-type aura","marker":{"color":"#440154"},"name":"Basilar-type aura","offsetgroup":"Basilar-type aura","orientation":"v","points":"all","scalegroup":"True","showlegend":true,"x":["Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura","Basilar-type aura"],"x0":" ","xaxis":"x","y":{"dtype":"i1","bdata":"AQICAQEBAQMCAQMDAwEDAwMB"},"y0":" ","yaxis":"y","type":"violin"},{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"Type=%{x}\u003cbr\u003eDuration=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Sporadic hemiplegic migraine","marker":{"color":"#440154"},"name":"Sporadic hemiplegic migraine","offsetgroup":"Sporadic hemiplegic migraine","orientation":"v","points":"all","scalegroup":"True","showlegend":true,"x":["Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine","Sporadic hemiplegic migraine"],"x0":" ","xaxis":"x","y":{"dtype":"i1","bdata":"AgIBAgIBAgEBAQEBAgI="},"y0":" ","yaxis":"y","type":"violin"},{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"Type=%{x}\u003cbr\u003eDuration=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Familial hemiplegic migraine","marker":{"color":"#440154"},"name":"Familial hemiplegic migraine","offsetgroup":"Familial hemiplegic migraine","orientation":"v","points":"all","scalegroup":"True","showlegend":true,"x":["Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine","Familial hemiplegic migraine"],"x0":" ","xaxis":"x","y":{"dtype":"i1","bdata":"AgEBAQECAgECAwMBAQEBAQMCAQECAgIB"},"y0":" ","yaxis":"y","type":"violin"},{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"Type=%{x}\u003cbr\u003eDuration=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Other","marker":{"color":"#440154"},"name":"Other","offsetgroup":"Other","orientation":"v","points":"all","scalegroup":"True","showlegend":true,"x":["Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other"],"x0":" ","xaxis":"x","y":{"dtype":"i1","bdata":"AQEBAwMBAQEBAQMCAQMDAwE="},"y0":" ","yaxis":"y","type":"violin"},{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"Type=%{x}\u003cbr\u003eDuration=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Typical aura without migraine","marker":{"color":"#440154"},"name":"Typical aura without migraine","offsetgroup":"Typical aura without migraine","orientation":"v","points":"all","scalegroup":"True","showlegend":true,"x":["Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine","Typical aura without migraine"],"x0":" ","xaxis":"x","y":{"dtype":"i1","bdata":"AQEBAQEDAgEDAwMBAQEBAQMCAQM="},"y0":" ","yaxis":"y","type":"violin"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Migraine Type"},"categoryorder":"array","categoryarray":["Typical aura with migraine","Migraine without aura","Basilar-type aura","Sporadic hemiplegic migraine","Familial hemiplegic migraine","Other","Typical aura without migraine"]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Duration"}},"legend":{"title":{"text":"Type"},"tracegroupgap":0},"violinmode":"overlay","title":{"text":"Migraine Duration by Type"},"showlegend":true},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('bfeb315d-5d50-4587-8770-4ad39bd1043e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<p>Migraine duration varies across migraine types, with some types showing longer and more variable episode lengths than others. Sporadic hemiplegic migraines tend to have a shorter duration in relation to basilar-type migraines. Typical aura with migraines tends to have a varied duration with a high amount of individuals experiencing a migraine that lasts an hour.</p>
</section>
<section id="duration-vs-intensity" class="level3">
<h3 class="anchored" data-anchor-id="duration-vs-intensity">Duration vs Intensity</h3>
<div id="19352e98" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="migraine_analysis_files/figure-html/cell-6-output-1.png" width="663" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The relationship between migraine duration and intensity differs by migraine type, indicating that these two measures of severity are not always aligned</p>
</section>
<section id="heatmap-of-symptoms-by-migraine-type" class="level3">
<h3 class="anchored" data-anchor-id="heatmap-of-symptoms-by-migraine-type">Heatmap of Symptoms by Migraine Type</h3>
<div id="00665399" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="migraine_analysis_files/figure-html/cell-7-output-1.png" width="1057" height="566" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Symptom prevalence patterns differ across migraine types, suggesting that each type is associated with a distinct combination of symptoms. The strongest symptom prevalence by migraine type is typical aura with migraine and visual symptoms.</p>
</section>
<section id="neurological-symptom-clustering" class="level3">
<h3 class="anchored" data-anchor-id="neurological-symptom-clustering">Neurological Symptom Clustering</h3>
<div id="e4295cf3" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="migraine_analysis_files/figure-html/cell-8-output-1.png" width="712" height="566" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Several neurological symptoms show strong correlations, which may help explain overlap between certain migraine types. There seems to be strong correlation between dysphasia and conscience versus a lack of correlation between ataxia and any other neurological symptom.</p>
</section>
<section id="ml" class="level3">
<h3 class="anchored" data-anchor-id="ml">ML</h3>
<div id="d1cbe562" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="migraine_analysis_files/figure-html/cell-9-output-1.png" width="636" height="449" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Feature importance results indicate that both symptom presence and severity measures contribute to distinguishing migraine types, with visual symptoms being dominant and ataxia being irrelevant</p>
</section>
</section>
<section id="key-insights" class="level2">
<h2 class="anchored" data-anchor-id="key-insights">Key Insights</h2>
<p>Migraine types differ in both symptom presence and severity structure<br>
Visual and sensory symptoms play a strong role in distinguishing migraine classifications<br>
Duration and intensity do not scale uniformly indicating that longer migraines are not always more intense<br>
Neurological symptoms cluster together suggesting shared underlying mechanisms across multiple migraine types</p>
<p>These findings highlight variability between migraine classifications and reinforce the importance of symptom specific analysis</p>
</section>
<section id="data-dictionary" class="level2">
<h2 class="anchored" data-anchor-id="data-dictionary">Data Dictionary</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Age</td>
<td>Patient age in years</td>
</tr>
<tr class="even">
<td>Type</td>
<td>Migraine classification</td>
</tr>
<tr class="odd">
<td>Duration</td>
<td>Duration of migraine episode</td>
</tr>
<tr class="even">
<td>Frequency</td>
<td>Frequency of migraine occurrence</td>
</tr>
<tr class="odd">
<td>Intensity</td>
<td>Reported migraine intensity</td>
</tr>
<tr class="even">
<td>DPF</td>
<td>Daily pain frequency score</td>
</tr>
<tr class="odd">
<td>Nausea</td>
<td>Presence of nausea</td>
</tr>
<tr class="even">
<td>Vomit</td>
<td>Presence of vomiting</td>
</tr>
<tr class="odd">
<td>Phonophobia</td>
<td>Sensitivity to sound</td>
</tr>
<tr class="even">
<td>Photophobia</td>
<td>Sensitivity to light</td>
</tr>
<tr class="odd">
<td>Visual</td>
<td>Visual disturbances</td>
</tr>
<tr class="even">
<td>Sensory</td>
<td>Sensory disturbances</td>
</tr>
<tr class="odd">
<td>Vertigo</td>
<td>Presence of vertigo</td>
</tr>
<tr class="even">
<td>Tinnitus</td>
<td>Presence of tinnitus</td>
</tr>
<tr class="odd">
<td>Hypoacusis</td>
<td>Reduced hearing</td>
</tr>
<tr class="even">
<td>Dysphasia</td>
<td>Language impairment</td>
</tr>
<tr class="odd">
<td>Dysarthria</td>
<td>Speech difficulty</td>
</tr>
<tr class="even">
<td>Diplopia</td>
<td>Double vision</td>
</tr>
<tr class="odd">
<td>Defect</td>
<td>Neurological defect</td>
</tr>
<tr class="even">
<td>Ataxia</td>
<td>Loss of coordination</td>
</tr>
<tr class="odd">
<td>Conscience</td>
<td>Altered consciousness</td>
</tr>
<tr class="even">
<td>Paresthesia</td>
<td>Tingling or numbness</td>
</tr>
</tbody>
</table>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<ul>
<li>https://www.kaggle.com/datasets/ranzeet013/migraine-dataset/data</li>
<li>https://www.junjunyin.com/datascience/dats2102/</li>
<li>https://www.geeksforgeeks.org/</li>
<li>https://stackoverflow.com/questions</li>
<li>https://seaborn.pydata.org/</li>
<li>https://matplotlib.org/stable/index.html</li>
<li>https://plotly.com/python/</li>
<li>https://scikit-learn.org/stable/</li>
</ul>
</section>
<section id="disclaimer" class="level2">
<h2 class="anchored" data-anchor-id="disclaimer">Disclaimer</h2>
<p>I used AI to help debug my code and used grammarly to fix grammatical errors</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>